# 1、近期成交额（15%），分成3个级别：3日内
# 2、近期涨幅（10%），分成3个级别：20日内涨幅30%以上 100分，20%以内 50分 10%以内 0分
# 3、流通市值（10%），30亿以下 100分
# 4、振幅（10）分成3个级别：50% 100分，30%-50% 50分，30%以内 0分
# 机构参与度      "jgcyd": {"weight": 0.10, "levels": [(50, 0), (42, 100), (30, 80), (0, 0)]},  # 机构参与度
# 历史评分
# 用户关注指数  80分-87分 80，87以上100

增加 当日涨停加10分（20cm以内）
"recent_turnover": {"weight": 0.20, "levels": [(15, 100),(10, 80), (5, 60), (0, 0)]},  # 近期成交额
"recent_increase": {"weight": 0.10, "levels": [(60, 100), (40, 50), (10, 0)]},  # 近期涨幅
"market_cap": {"weight": 0.15, "levels": [(500, 0),(200, 50), (30, 100), (20, 0)]},  # 流通市值
"amplitude": {"weight": 0.10, "levels": [(50, 100), (30, 50), (0, 0)]},  # 振幅 +5
"jgcyd": {"weight": 0.10, "levels": [(50, 0), (42, 100), (30, 80), (0, 0)]},  # 机构参与度
"lspf": {"weight": 0.10, "levels": [(67, 100), (60, 50), (0, 0)]},  # 历史评分
"focus": {"weight": 0.10, "levels": [(87, 100), (80, 80), (0, 0)]},  # 用户关注指数

筛选 增加：
1、中上轨以上
2、彩带上轨上涨，绿色不考虑
3、macd 红柱向上，启动初期

SELECT * FROM `trade`.`stock_rating` WHERE rating_date =20250408 ORDER BY total_score desc

用法：
2025年4月11日
1、早上开盘预警代表当日的大方向，今早预警的是 半导体，后续全部起来，说明有资金有消息准备，找龙头打，北京/科创/创业/主板，各找一个龙头


pip install gradio


1、macd 红柱缩短的不考虑，大幅上涨过的不考虑

自动计算所有符合条件的股票，通过UI自动加入到板块中
实现自动化加入自选板块预选中，供最后的分析和挑选

再完善和测试条件：彩带之上，绿色不考虑
彩带是上涨的
无长上影线
macd 趋势向上
连续放量

SMA(C,6.5,1)>SMA(C,13.5,1) AND
MA(VOL,5) / REF(MA(VOL,5),5)>2 AND  REF(MA(VOL,5),1)/ REF(MA(VOL,5),5)>1.5 AND  REF(MA(VOL,5),2)/ REF(MA(VOL,5),5)>1.5

todo 
1、完成选股优化部分
2、实现数据回测，根据策略计算出收益，然后进行回测，计算出年化收益、成功率，然后进行比较，选择最优的策略
3、完成自动下单，买卖、查询数量、查询价格、查询持仓、查询资金、查询持仓明细、查询资金明细、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询当日委托、查询当日成交、查询
