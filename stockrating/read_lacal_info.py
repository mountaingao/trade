from mootdx.reader import Reader

# 创建 Reader 对象
reader = Reader.factory(market='std', tdxdir='D:/new_haitong/')

# 获取日线数据
daily_data = reader.daily(symbol='300264')
print("日线数据：", daily_data)

# 获取分时数据
minute_data = reader.minute(symbol='300264')
print("分时数据：", minute_data)

reader.fzline(symbol='300264')

# 不能用tushare
import pywencai

from selenium import webdriver
from bs4 import BeautifulSoup

# # 启动浏览器
# driver = webdriver.Chrome(executable_path='C:\Program Files\Google\Chrome\Application')
# driver.get("https://www.10jqka.com.cn/300083")
#
# # 解析网页
# soup = BeautifulSoup(driver.page_source, 'html.parser')
# circulating_market_value = soup.find("div", class_="流通市值").text
# print(f"流通市值: {circulating_market_value}")
#
# driver.quit()
# exit()

df = pywencai.get(query="300083 流通市值")
print(df['txt1'])
text = df['txt1']
# 使用字符串查找和切片提取流通市值
start_index = text.find("流通市值为") + len("流通市值为")
end_index = text.find("亿元", start_index)
circulating_market_value = text[start_index:end_index]

print(f"流通市值为: {circulating_market_value} 亿元")


002050
003021
003021
003021
003021
002993
002965
002965
002965
002965
002965
002929
002896
002896
002896
002765
002765
002765
002760
002757
002725
002599
002599
002599
002599
002582
002580
002575
002575
002575
002527
002527
002522
002501
002398
002398
002398
002369
002369
002369
002364
002364
002358
002358
002335
002335
002335
002335
002326
002276
002276
002261
002245
002245
002196
002196
002195
002139
002139
002139
002126
002126
002123
002105
002048
002044
002044
002044
002042
002042
002031
002031
002031
001368
001339
001339
001319
001309
001309
001309
001309
001309
001309
001298
000997
000892
000887
000887
000880
000868
000856
000837
000818
000818
000785
000710
000710
000710
000710
000710
000665
000570
000034
000034
000032
688685
688685
688629
688629
688629
688615
688591
688590
688561
688561
688521
688400
688400
688393
688369
688369
688369
688369
688365
688365
688365
688347
688343
688343
688343
688333
688327
688327
688327
688327
688322
688316
688316
688306
688306
688306
688256
688228
688228
688228
688220
688220
688205
688159
688159
688159
688159
688159
688158
688118
688118
688114
688114
688114
688114
688114
688114
688041
688031
688031
688031
688017
688003
688003
688003
605488
605488
605488
605100
605069
605066
603986
603918
603887
603887
603881
603881
603881
603855
603700
603629
603629
603618
603618
603583
603583
603583
603583
603583
603501
603496
603496
603360
603360
603360
603360
603360
603360
603315
603300
603300
603300
603300
603296
603296
603270
603220
603219
603219
603219
603200
603200
603166
603119
603118
603039
603039
603039
603012
603012
601789
601789
601789
601789
601789
601789
601616
601177
600986
600986
600986
600845
600797
600797
600633
600633
600602
600602
600602
600592
600590
600590
600590
600589
600588
600580
600580
600580
600498
600367
600203
600186
600143
600126
600126
600120
301608
301608
301608
301486
301486
301428
301428
301428
301396
301396
301382
301382
301382
301368
301368
301368
301368
301368
301368
301366
301325
301325
301270
301238
301236
301210
301210
301210
301208
301196
301165
301139
301128
301085
301085
301018
301018
301013
301007
301007
301007
301007
301007
300996
300996
300953
300953
300953
300925
300918
300911
300873
300857
300857
300846
300846
300840
300766
300738
300738
300738
300718
300718
300718
300687
300681
300676
300676
300674
300674
300674
300660
300657
300657
300657
300657
300657
300657
300638
300638
300638
300634
300611
300580
300580
300580
300553
300553
300553
300547
300547
300543
300543
300543
300525
300515
300496
300496
300475
300473
300458
300454
300454
300451
300403
300403
300384
300383
300383
300383
300383
300382
300382
300378
300344
300344
300344
300344
300328
300328
300302
300296
300288
300287
300276
300258
300258
300258
300258
300253
300253
300253
300249
300249
300248
300245
300232
300229
300229
300229
300226
300170
300170
300166
300166
300153
300153
300153
300148
300115
300115
300113
300113
300113
300113
300083
300042
300017
300017
300017
300007
300007
300007
300007
